"use strict";
/*
 * Copyright 2022 IBM All Rights Reserved.
 *
 * SPDX-License-Identifier: Apache-2.0
 */
Object.defineProperty(exports, "__esModule", { value: true });
exports.EventsBuilder = void 0;
const fabric_protos_1 = require("@hyperledger/fabric-protos");
class EventsBuilder {
    #options;
    constructor(options) {
        this.#options = options;
    }
    getStartPosition() {
        const result = new fabric_protos_1.orderer.SeekPosition();
        const startBlock = this.#options.checkpoint?.getBlockNumber() ?? this.#options.startBlock;
        if (startBlock != undefined) {
            const specified = new fabric_protos_1.orderer.SeekSpecified();
            specified.setNumber(Number(startBlock));
            result.setSpecified(specified);
            return result;
        }
        result.setNextCommit(new fabric_protos_1.orderer.SeekNextCommit());
        return result;
    }
}
exports.EventsBuilder = EventsBuilder;
//# sourceMappingURL=eventsbuilder.js.map